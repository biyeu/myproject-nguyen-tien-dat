<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="book.css" />

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"
    ></script>
    <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script> -->
    <script src="https://code.jquery.com/jquery-3.1.0.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />

    <script
      type="text/javascript"
      src="https://www.google.com/books/jsapi.js"
    ></script>
    <title>Book</title>
  </head>
  <body>
    <div class="book-home">
      <div class="book_task">
        <div class="book-home-topic">
          <span class="book-task-text">
            <i class="fa-solid fa-book-open"></i>
            <a href="/myproject-nguyen-tien-dat/main/main.html">BOOK</a>
          </span>
          <span class="book-task-text">
            <div id="input" class="input-group">
              <input
                id="search-box"
                type="text"
                class="form-control isbn"
                placeholder="Search Books ISBN!..."
              />
              <button id="search" class="search-btn btn btn-primary" onclick="">
                Search
              </button>
            </div>
          </span>
          <span class="book-task-text">
            <a href="/myproject-nguyen-tien-dat/web doc sach/read.html">Find book</a>
            
          </span>
          <!-- <button id="btnGoogle" type="button" class="google-button">
            Login
          </button>
          <span class="book-task-text bo">
            <i class="accout-show">Account</i>
            <ul class="account-task" id="show">
              <div class="account-set">
                <img src="" alt="" class="avatar" />
                <span class="display_name"></span>
                <span class="name"></span>
                <p><span>Email: </span><span class="email"></span></p>
                <button class="account-log" onclick="clickLogout()">
                  Log out
                </button>
                <div class="creat">
                  <button id="nse">
                    <i class="fa-solid fa-plus"></i>
                    Create
                  </button>
                </div>
          </span> -->

                
              </div>
            </ul>
          </span>
         
        </div>
      </div>
    </div>
    <!-- <div class="all" style="display: flex; justify-content: space-around; margin-top: 23px; ">
      <div class="thumbnail bg-white thumb-bg visibility: hidden;" >
        <img src="" alt="" id="thumbImg" style="width: 50px; height: 50px; border-radius: 50%;" class="md:flex">
        <h3 id="thumbContent"></h3>
        <p id="thumbAuthor"></p>
      </div> -->
      <div
        id="viewerCanvas"
        style="width: 800px; height: 800px"
        class="mr-3 float-right"
      ></div>
    <!-- </div> -->

    <!-- <div class="container">
      <div id="title" class="center">
        <div class="row">
          
        </div>
      </div>
      <div class="book-list" >
        <h2 class="text-center">Search Result</h2>
        <div id="list-output" class="">
          <div class="row">
             card  -->

    <!-- </div>
    <div class="book-list">
      <h2>search result</h2>
      <div id="list-output" class="">
        <div class="row"></div>
      </div>
    </div> -->
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="forum.js"></script>
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries


     
      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyB8ogMCDsC7JJ87SwZp7pOyNsh1H34Ej2M",
        authDomain: "test-74c90.firebaseapp.com",
        projectId: "test-74c90",
        storageBucket: "test-74c90.appspot.com",
        messagingSenderId: "49067418419",
        appId: "1:49067418419:web:671da27a119ccf6c9f1446",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase.js"></script>
    <script>
      function clickLogout() {
        // Clear user data from profile view
        document.querySelector(".display_name").textContent = "";
        document.querySelector(".email").textContent = "";
        document.querySelector(".avatar").src = "";
        document.querySelector(".display_name").textContent = ""
        document.querySelector(".name").textContent = "";

        // Remove user from localStorage
        localStorage.removeItem("user");
      }

      // Call this function after a successful login to update the profile
      function updateProfile(user) {
        document.querySelector(".display_name").textContent = user.displayName;
        document.querySelector(".email").textContent = user.email;
        document.querySelector(".avatar").src = user.photoURL;
        document.querySelector(".name").textContent = userInfo.name;
      }

      (function () {
        console.log("Start file login with firebase");
        // Initialize Firebase
        const firebaseConfig = {
          apiKey: "AIzaSyD4UAGeeNt1gSgqiX0VrZAnp0pcXKgVe_Q",
          authDomain: "ebook-c4db2.firebaseapp.com",
          projectId: "ebook-c4db2",
          storageBucket: "ebook-c4db2.appspot.com",
          messagingSenderId: "599461847170",
          appId: "1:599461847170:web:9e0252a57f46da6b7ed49b",
        };
        firebase.initializeApp(firebaseConfig);
        // var database = firebase.database();

        //Google singin provider
        var ggProvider = new firebase.auth.GoogleAuthProvider();
        //Facebook singin provider
        var fbProvider = new firebase.auth.FacebookAuthProvider();
        //Login in variables
        const btnGoogle = document.getElementById("btnGoogle");
        const btnFaceBook = document.getElementById("btnFacebook");

        //Sing in with Google
        btnGoogle &&
          btnGoogle.addEventListener(
            "click",
            (e) => {
              alert();
              firebase
                .auth()
                .signInWithPopup(ggProvider)
                .then(function (result) {
                  var token = result.credential.accessToken;
                  var user = result.user;
                  console.log("User>>Goole>>>>", user);
                  userId = user.uid;
                  document.querySelector(".email").textContent = user.email;
                  document.querySelector(".avatar").src = user.photoURL;

                  const dataUser = {
                    id: userId,
                    name: user.displayName,
                    email: user.email,
                    avatar: user.photoURL,
                  };
                  const useItem = localStorage.setItem(
                    "user",
                    JSON.stringify(dataUser)
                  );
                })
                .catch(function (error) {
                  console.error("Error: hande error here>>>", error.code);
                });
            },
            false
          );

        //Sing in with Facebook
        btnFaceBook &&
          btnFaceBook.addEventListener(
            "click",
            (e) => {
              firebase
                .auth()
                .signInWithPopup(fbProvider)
                .then(function (result) {
                  // This gives you a Facebook Access Token. You can use it to access the Facebook API.
                  var token = result.credential.accessToken;
                  // The signed-in user info.
                  var user = result.user;
                  console.log("User>>Facebook>", user);
                  // ...
                  userId = user.uid;
                })
                .catch(function (error) {
                  // Handle Errors here.
                  var errorCode = error.code;
                  var errorMessage = error.message;
                  // The email of the user's account used.
                  var email = error.email;
                  // The firebase.auth.AuthCredential type that was used.
                  var credential = error.credential;
                  // ...
                  console.error(
                    "Error: hande error here>Facebook>>",
                    error.code
                  );
                });
            },
            false
          );
        //jquery
      })();
      // if(){

      // }
      const user = localStorage.getItem("user");
      console.log(user);
      const userInfo = JSON.parse(user);
      document.querySelector(".display_name").textContent =
        userInfo.displayName;
      document.querySelector(".email").textContent = userInfo.email;
      document.querySelector(".avatar").src = userInfo.photoURL;
      document.querySelector(".imgpf").src = userInfo.photoURL;
      document.querySelector(".name").textContent = userInfo.name;



    </script>
    <script>
        document.querySelector(".accout-show").addEventListener("click", function () {
    document.querySelector("#show").style.display = "block";
  });
  document.querySelector("#show").addEventListener("click", function () {
    document.querySelector("#show").style.display = "none";
  });
  

document.querySelector("#nse").addEventListener("click",function(){
    window.location.href = "forum.html"
})

    </script>
    <script src="book.js"></script>
    <script src="app.js"></script>
  </body>
</html>
